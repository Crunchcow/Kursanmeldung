{% extends 'courses/base.html' %}
{% load i18n %}

{% block title %}{% trans "Kurse" %}{% endblock %}

{% block content %}
<h1>{% trans "Verfügbare Kurse" %}</h1>
{% for course in courses %}
    <div class="card mb-3">
        <div class="card-body">
            <h5 class="card-title">{{ course.name }}</h5>
            <p>{{ course.description }}</p>
            <p>{% trans "Datum" %}: {{ course.start_date }} – {{ course.end_date }}</p>
            <p>{% trans "Uhrzeit" %}: {{ course.start_time }} - {{ course.end_time }}</p>
            <p>{% trans "Wochentage" %}: {% for d in course.days %}{{ d }}{% if not forloop.last %}, {% endif %}{% endfor %}</p>
            <p>{% trans "Einheiten" %}: {{ course.session_count }}</p>
            <p>{% trans "Ort" %}: {% for loc in course.locations.all %}{{ loc.name }} {% if not forloop.last %}, {% endif %}{% endfor %}</p>
            <p>{% trans "Preis Mitglied" %}: {{ course.price_member }}€</p>
            <p>{% trans "Preis Nicht-Mitglied" %}: {{ course.price_non_member }}€</p>
            {% if course.is_full %}
                <span class="badge badge-warning">{% trans "Warteliste" %}</span>
            {% endif %}
            <a href="{% url 'course_register' course.id %}" class="btn btn-primary">{% trans "Anmelden" %}</a>
        </div>
    </div>
{% empty %}
    <p>{% trans "Keine Kurse verfügbar." %}</p>
{% endfor %}
{% endblock %}